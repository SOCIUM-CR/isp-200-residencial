# =============================================================================
# accel-ppp Configuration - BNG/BRAS para ISP-200
# =============================================================================
# Capacidad: 200+ sesiones PPPoE
# Pool: 100.64.100.0/22 (1022 IPs)
# MTU: 1492 (1500 - 8 bytes PPPoE header)
# =============================================================================

[modules]
log_file
pppoe
auth_mschap_v2
auth_mschap_v1
auth_chap_md5
auth_pap
radius
ippool
shaper
connlimit

[core]
log-error=/var/log/accel-ppp/core.log
thread-count=4

[common]
single-session=replace
sid-case=upper
sid-source=urandom

[ppp]
verbose=1
min-mtu=1280
mtu=1492
mru=1492
ccp=0
check-ip=0
mppe=prefer
ipv4=require
ipv6=deny
lcp-echo-interval=30
lcp-echo-failure=3
lcp-echo-timeout=120
unit-cache=1

[pppoe]
verbose=1
called-sid=mac
interface=eth1
ac-name=ISP200-BRAS
service-name=*
pado-delay=0
tr101=1
ip-pool=pppoe-pool

[dns]
dns1=8.8.8.8
dns2=8.8.4.4

[wins]

[radius]
verbose=1
dictionary=/usr/share/accel-ppp/radius/dictionary
nas-identifier=ISP200-BRAS
nas-ip-address=10.0.1.2
gw-ip-address=100.64.100.1
server=172.30.0.50,radiussecret,auth-port=1812,acct-port=1813,req-limit=50,fail-timeout=0
dae-server=0.0.0.0:3799,radiussecret
acct-timeout=10
acct-delay-time=0
acct-on=0
attr-tunnel-type=virtual

[ip-pool]
gw-ip-address=100.64.100.1
attr=Framed-Pool
# Pool principal para PPPoE
100.64.100.2-100.64.103.254,name=pppoe-pool

[shaper]
verbose=1
attr=Filter-Id
attr-down=PPPD-Downstream-Speed-Limit
attr-up=PPPD-Upstream-Speed-Limit
burst-factor=1.0
latency=50
mpu=0
mtu=1492
r2q=10
quantum=1500
up-limiter=police
down-limiter=tbf
leaf-qdisc=sfq perturb 10

[connlimit]
limit=2
burst=3
timeout=60

[cli]
tcp=127.0.0.1:2001
password=admin

[log]
log-file=/var/log/accel-ppp/accel-ppp.log
log-emerg=/var/log/accel-ppp/emerg.log
log-fail-file=/var/log/accel-ppp/auth-fail.log
copy=1
level=3
